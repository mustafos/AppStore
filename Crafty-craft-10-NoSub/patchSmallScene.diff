From 7a200b75a6142549b73beecd55d5c29934cf2e23 Mon Sep 17 00:00:00 2001
From: VitalyPolezhay <>
Date: Thu, 28 Sep 2023 17:15:48 +0300
Subject: [PATCH] fixed tools settings (like unity version)

---
 .../AddonEditor3DViewController.swift         | 70 ++++++++++++++-----
 .../AddonEditor3DViewController.xib           | 25 ++++---
 2 files changed, 70 insertions(+), 25 deletions(-)

diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift
index 3bcda33..846d594 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift	
@@ -10,33 +10,22 @@ class AddonEditor3DViewController: UIViewController {
     //MARK: Properties
     
     lazy var toolBarSelectedItem: ToolBar3DSelectedItem = .pencil {
-        
         didSet {
-
-            colorsBrashContainerView.isHidden = true
-            brashSizeView.isHidden = true
-            dropperButton.isHidden = true
+            
             brashSizeView.currentBrashTool = toolBarSelectedItem
             colorsBrashContainerView.isHidden = false
-            brashSizeView.isHidden = true
             vcModel?.editorAddonModel.activeTool = toolBarSelectedItem
             switch toolBarSelectedItem {
             case .pencil:
-                brashSizeView.isHidden = false
                 toolsStackView.backgroundColor = .clear
             case .eraser:
-                brashSizeView.isHidden = false
                 toolsStackView.backgroundColor = .clear
-                colorsBrashContainerView.isHidden = true
             case .brash:
                 toolsStackView.backgroundColor = UIColor(named: "lightGreenBachgroundColor")
-                dropperButton.isHidden = false
                 toolsStackView.backgroundColor = #colorLiteral(red: 0.0862745098, green: 0.4039215686, blue: 0.3411764706, alpha: 1)
             case .noise:
                 toolsStackView.backgroundColor = .clear
-                brashSizeView.isHidden = false
             case .undo:
-                colorsBrashContainerView.isHidden = true
                 toolsStackView.backgroundColor = .clear
             case .fill:
                 toolsStackView.backgroundColor = #colorLiteral(red: 0.0862745098, green: 0.4039215686, blue: 0.3411764706, alpha: 1)
@@ -101,6 +90,14 @@ class AddonEditor3DViewController: UIViewController {
     @IBOutlet weak var undoLab: UILabel!
     @IBOutlet weak var undoBtn: UIButton!
     
+    @IBOutlet weak var undoContainerView: UIView!
+    @IBOutlet weak var noiseContainerView: UIView!
+    @IBOutlet weak var eraserContainerView: UIView!
+    @IBOutlet weak var pencilContainerView: UIView!
+    @IBOutlet weak var pickerContainerView: UIView!
+    @IBOutlet weak var fillContainerView: UIView!
+    
+    
 //    @IBOutlet var colorButtonsOutletCollection: [UIButton]!
     @IBOutlet weak var dropperButton: UIButton!
     
@@ -129,42 +126,43 @@ class AddonEditor3DViewController: UIViewController {
     @IBAction func onToolBarPencilButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: pencilLab)
+        updateBrashSizeHiddenStatus(.pencil)
         toolBarSelectedItem = .pencil
     }
     
     @IBAction func onToolBarEraserButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: eraserLab)
+        updateBrashSizeHiddenStatus(.eraser)
         toolBarSelectedItem = .eraser
     }
     
     @IBAction func onToolBarPickerButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: dropperLab)
+        updateBrashSizeHiddenStatus(.brash)
         toolBarSelectedItem = .brash
-        
-        if sender.isSelected == false {
-            colorsBrashContainerView.isHidden = true
-        }
     }
     
     @IBAction func onToolBarFillButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: fillLab)
+        updateBrashSizeHiddenStatus(.fill)
         toolBarSelectedItem = .fill
     }
     
     @IBAction func onToolBarNoiseButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: noiseLab)
+        updateBrashSizeHiddenStatus(.noise)
         toolBarSelectedItem = .noise
     }
     
     @IBAction func onToolBarUndoButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: undoLab)
-//        editorSkinModel.makeUndoDrawCommand()
         vcModel?.editorAddonModel.undoManager.undo()
+        updateBrashSizeHiddenStatus(.undo)
         toolBarSelectedItem = .undo
     }
     
@@ -245,12 +243,50 @@ class AddonEditor3DViewController: UIViewController {
         
         setupMyScene()
         setupUI()
+        setupToolBarAction()
     }
 
     
     
     //MARK: Private functions
     
+    private func updateBrashSizeHiddenStatus(_ item: ToolBar3DSelectedItem) {
+        if item == .fill || item == .undo {
+            brashSizeView.isHidden = true
+            return
+        }
+        
+        if !brashSizeView.isHidden {
+            brashSizeView.isHidden.toggle()
+        } else {
+            brashSizeView.isHidden = toolBarSelectedItem != item
+        }
+    }
+    
+    private func setupToolBarAction() {
+        undoContainerView.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(undoTap)))
+        pencilContainerView.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(pencilTap)))
+        eraserContainerView.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(eraserTap)))
+        pickerContainerView.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(pickerTap)))
+        fillContainerView.addGestureRecognizer(UITapGestureRecognizer(target: self, action: #selector(fillTap)))
+    }
+    
+    @objc func undoTap() {
+        undoBtn.sendActions(for: .touchUpInside)
+    }
+    @objc func pencilTap() {
+        pencilBtn.sendActions(for: .touchUpInside)
+    }
+    @objc func eraserTap() {
+        eraserBtn.sendActions(for: .touchUpInside)
+    }
+    @objc func pickerTap() {
+        dropperBtn.sendActions(for: .touchUpInside)
+    }
+    @objc func fillTap() {
+        fillBtn.sendActions(for: .touchUpInside)
+    }
+    
     func setupColorColletion() {
         color3DCollection.delegate = self
         color3DCollection.dataSource = self
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib
index 4f70152..0beb34a 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib	
@@ -1,9 +1,9 @@
 <?xml version="1.0" encoding="UTF-8"?>
-<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="21507" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="21701" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
     <device id="retina6_72" orientation="portrait" appearance="light"/>
     <dependencies>
         <deployment identifier="iOS"/>
-        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="21505"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="21679"/>
         <capability name="Named colors" minToolsVersion="9.0"/>
         <capability name="Safe area layout guides" minToolsVersion="9.0"/>
         <capability name="System colors in document resources" minToolsVersion="11.0"/>
@@ -31,14 +31,19 @@
                 <outlet property="dropperButton" destination="wWy-7J-gOy" id="j0d-ky-vPH"/>
                 <outlet property="dropperLab" destination="3Gh-Yc-jsf" id="iKf-Ck-lIu"/>
                 <outlet property="eraserBtn" destination="mGU-sT-OYX" id="fVW-2n-PI5"/>
+                <outlet property="eraserContainerView" destination="JHH-ah-ida" id="8LP-gx-eMZ"/>
                 <outlet property="eraserLab" destination="2De-3i-r5Q" id="e5N-QV-JBD"/>
                 <outlet property="fillBtn" destination="u5w-2X-H7d" id="Q8p-TT-vJO"/>
+                <outlet property="fillContainerView" destination="3fW-0j-o7f" id="yAP-gO-i71"/>
                 <outlet property="fillLab" destination="iS0-m1-FB5" id="zQH-gl-EVX"/>
                 <outlet property="homeButton" destination="OkP-RY-yMd" id="eMU-X5-mh0"/>
                 <outlet property="noiseBtn" destination="CSs-NF-l7Q" id="1Nb-cp-IvZ"/>
+                <outlet property="noiseContainerView" destination="VD3-GA-Ulj" id="yF1-md-2E2"/>
                 <outlet property="noiseLab" destination="6ze-Qp-jZ4" id="kk0-7c-WgR"/>
                 <outlet property="pencilBtn" destination="q71-xB-QT1" id="JrE-zT-4Dr"/>
+                <outlet property="pencilContainerView" destination="AjJ-SC-8ZB" id="ayX-ia-eP0"/>
                 <outlet property="pencilLab" destination="kRj-Pc-XRa" id="WmS-t2-rID"/>
+                <outlet property="pickerContainerView" destination="vCn-an-dg5" id="Csi-x9-KYK"/>
                 <outlet property="rotationSkinModelButton" destination="glY-bF-pQp" id="LjT-XA-AoA"/>
                 <outlet property="saveButton" destination="g6A-Ls-lEA" id="Nhc-wY-hAK"/>
                 <outlet property="sceneView" destination="EEn-mf-WOc" id="xFD-6m-J0f"/>
@@ -46,6 +51,7 @@
                 <outlet property="smallStiveView" destination="MfN-nT-Ult" id="93c-kV-dZo"/>
                 <outlet property="toolsStackView" destination="D10-R1-Ltm" id="x1Y-6o-cO9"/>
                 <outlet property="undoBtn" destination="Gvg-8X-uYD" id="jWs-iH-LQO"/>
+                <outlet property="undoContainerView" destination="bnH-53-ITQ" id="74L-c7-zS5"/>
                 <outlet property="undoLab" destination="jzU-DG-vO7" id="zxI-xw-Avx"/>
                 <outlet property="view" destination="i5M-Pr-FkT" id="sfx-zR-JGt"/>
             </connections>
@@ -124,10 +130,6 @@
                 <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" translatesAutoresizingMaskIntoConstraints="NO" id="D10-R1-Ltm" userLabel="Tools Stack View">
                     <rect key="frame" x="0.0" y="727" width="430" height="205"/>
                     <subviews>
-                        <view hidden="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="d20-uq-IDt" userLabel="BrashSizeView" customClass="BrashSizeView" customModule="Crafty_Craft_5" customModuleProvider="target">
-                            <rect key="frame" x="0.0" y="-121.33333333333337" width="430" height="121.33333333333333"/>
-                            <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                        </view>
                         <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="516-2I-QlD" userLabel="ColorsView">
                             <rect key="frame" x="0.0" y="0.0" width="430" height="84"/>
                             <subviews>
@@ -301,7 +303,7 @@
                                                     <state key="normal" backgroundImage="paletteNonSelected"/>
                                                     <state key="selected" backgroundImage="paletteSelected"/>
                                                     <connections>
-                                                        <action selector="onToolBarPickerButtonTapped:" destination="-2" eventType="touchUpInside" id="EKo-5f-XHS"/>
+                                                        <action selector="onToolBarPickerButtonTapped:" destination="-1" eventType="touchUpInside" id="1Ze-YN-g5i"/>
                                                     </connections>
                                                 </button>
                                                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="Picker" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="3Gh-Yc-jsf">
@@ -482,6 +484,10 @@
                         </userDefinedRuntimeAttribute>
                     </userDefinedRuntimeAttributes>
                 </view>
+                <view hidden="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="d20-uq-IDt" userLabel="BrashSizeView" customClass="BrashSizeView" customModule="Crafty_Craft_5" customModuleProvider="target">
+                    <rect key="frame" x="0.0" y="605.66666666666663" width="430" height="121.33333333333337"/>
+                    <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                </view>
                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="oiI-Mh-Q6Y">
                     <rect key="frame" x="8" y="117" width="414" height="0.0"/>
                     <fontDescription key="fontDescription" name="Poppins-SemiBold" family="Poppins SemiBold" pointSize="22"/>
@@ -504,22 +510,25 @@
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="top" secondItem="fnl-2z-Ty3" secondAttribute="top" id="Kz5-jb-ofs"/>
                 <constraint firstItem="TI5-yZ-uEY" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.13" id="Lg3-fZ-CLz"/>
                 <constraint firstItem="UER-0E-SS7" firstAttribute="top" secondItem="i5M-Pr-FkT" secondAttribute="top" id="PL4-Hq-pDB"/>
-                <constraint firstItem="d20-uq-IDt" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.13" id="Q7h-e9-Xhh"/>
                 <constraint firstAttribute="trailing" secondItem="D10-R1-Ltm" secondAttribute="trailing" id="StB-V0-IBi"/>
                 <constraint firstAttribute="trailing" secondItem="UER-0E-SS7" secondAttribute="trailing" id="Xho-bU-OMJ"/>
                 <constraint firstAttribute="bottom" secondItem="UER-0E-SS7" secondAttribute="bottom" id="bid-Ez-9HO"/>
+                <constraint firstItem="d20-uq-IDt" firstAttribute="trailing" secondItem="fnl-2z-Ty3" secondAttribute="trailing" id="c6l-eJ-8dK"/>
                 <constraint firstItem="glY-bF-pQp" firstAttribute="top" secondItem="oiI-Mh-Q6Y" secondAttribute="bottom" id="dBk-om-rOu"/>
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="trailing" secondItem="fnl-2z-Ty3" secondAttribute="trailing" id="doZ-r9-OP0"/>
                 <constraint firstItem="oiI-Mh-Q6Y" firstAttribute="top" secondItem="lhO-Vb-FiW" secondAttribute="bottom" constant="8" id="eJ0-ms-8K7"/>
                 <constraint firstAttribute="trailing" secondItem="oiI-Mh-Q6Y" secondAttribute="trailing" constant="8" id="fHd-FE-HWq"/>
                 <constraint firstItem="UER-0E-SS7" firstAttribute="leading" secondItem="i5M-Pr-FkT" secondAttribute="leading" id="ggh-cR-AGr"/>
                 <constraint firstItem="MfN-nT-Ult" firstAttribute="trailing" secondItem="EEn-mf-WOc" secondAttribute="trailing" constant="-20" id="hDT-A5-JQm"/>
+                <constraint firstItem="D10-R1-Ltm" firstAttribute="top" secondItem="d20-uq-IDt" secondAttribute="bottom" id="ikm-B2-7Il"/>
                 <constraint firstItem="EEn-mf-WOc" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="jjV-Fh-hNm"/>
                 <constraint firstItem="EEn-mf-WOc" firstAttribute="top" secondItem="oiI-Mh-Q6Y" secondAttribute="bottom" id="jus-x0-FCS"/>
                 <constraint firstItem="oiI-Mh-Q6Y" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" constant="8" id="k3C-Ba-Nze"/>
                 <constraint firstItem="516-2I-QlD" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.09" id="pvk-iL-f0u"/>
+                <constraint firstItem="d20-uq-IDt" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="tgl-Mp-X0o"/>
                 <constraint firstItem="D10-R1-Ltm" firstAttribute="top" secondItem="EEn-mf-WOc" secondAttribute="bottom" id="wBV-Sc-Os4"/>
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="wtk-QP-brM"/>
+                <constraint firstItem="d20-uq-IDt" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.130186" id="xTG-Eo-6QP"/>
             </constraints>
             <point key="canvasLocation" x="135.34883720930233" y="19.95708154506438"/>
         </view>
-- 
2.37.0

From 76e01a2cac22b716270f6332753b39c15ac83faf Mon Sep 17 00:00:00 2001
From: VitalyPolezhay <>
Date: Thu, 28 Sep 2023 18:34:17 +0300
Subject: [PATCH] added small scene (without tap logic, texture)

---
 .../AddonEditor3DViewController.swift         | 36 +++++++++++++++++--
 .../AddonEditor3DViewController.xib           | 20 ++++-------
 2 files changed, 40 insertions(+), 16 deletions(-)

diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift
index 846d594..ebb954f 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.swift	
@@ -57,7 +57,8 @@ class AddonEditor3DViewController: UIViewController {
     
     @IBOutlet weak var brashSizeView: BrashSizeView!
     
-    @IBOutlet weak var smallStiveView: SmallModelView!
+    @IBOutlet weak var smallStiveView: SCNView!
+    //    @IBOutlet weak var smallStiveView: SmallModelView!
     
     @IBOutlet weak var colorsBrashContainerView: UIView!
     
@@ -235,7 +236,6 @@ class AddonEditor3DViewController: UIViewController {
         setupColorColletion()
 
         brashSizeView.delegate = self
-        smallStiveView.delegate = self
         vcModel?.editorAddonModel.colorManager3D.delegate = self
         
         manageSelectedToolUI(tappedTool: pencilBtn, tappedLab: pencilLab)
@@ -292,7 +292,7 @@ class AddonEditor3DViewController: UIViewController {
         color3DCollection.dataSource = self
         color3DCollection.register(UINib(nibName: "Color3DCollectionCell", bundle: nil), forCellWithReuseIdentifier: "Color3DCollectionCell")
     }
-    
+
     private func setupMyScene() {
         
         tapGestureOnSCNScene = UITapGestureRecognizer(target: self, action: #selector(didTap(_:)))
@@ -315,6 +315,16 @@ class AddonEditor3DViewController: UIViewController {
         sceneView.autoenablesDefaultLighting = true
         sceneView.allowsCameraControl = false // <--- when user go to edit mode
         sceneView.showsStatistics = false
+        sceneView.defaultCameraController.delegate = self
+        sceneView.delegate = self
+        sceneView.defaultCameraController.inertiaEnabled = false
+
+        smallStiveView.scene = vcModel?.scnModel?.scene
+        smallStiveView.autoenablesDefaultLighting = true
+        smallStiveView.allowsCameraControl = false
+        smallStiveView.showsStatistics = false
+        smallStiveView.defaultCameraController.delegate = self
+        
         startingPointOfView = sceneView.pointOfView
         
 //        sceneView.debugOptions = [SCNDebugOptions.showBoundingBoxes,
@@ -481,3 +491,23 @@ extension AddonEditor3DViewController: SkinSavebleDialogDelegate {
         present(presentAlert, animated: true)
     }
 }
+
+extension AddonEditor3DViewController : SCNCameraControllerDelegate, SCNSceneRendererDelegate {
+    func cameraInertiaWillStart(for cameraController: SCNCameraController) {
+        updateSmallSceneCameraPoint()
+    }
+
+    func cameraInertiaDidEnd(for cameraController: SCNCameraController) {
+        updateSmallSceneCameraPoint()
+    }
+    
+    func renderer(_ renderer: SCNSceneRenderer, updateAtTime time: TimeInterval) {
+        updateSmallSceneCameraPoint()
+    }
+    
+    private func updateSmallSceneCameraPoint() {
+        if let currentPointOfView = sceneView.pointOfView {
+            smallStiveView.pointOfView = currentPointOfView
+        }
+    }
+}
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib
index 0beb34a..8c039d8 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonEditor3DModule/AddonEditor3DViewController.xib	
@@ -48,7 +48,7 @@
                 <outlet property="saveButton" destination="g6A-Ls-lEA" id="Nhc-wY-hAK"/>
                 <outlet property="sceneView" destination="EEn-mf-WOc" id="xFD-6m-J0f"/>
                 <outlet property="skinNameLabel" destination="oiI-Mh-Q6Y" id="ono-u6-b6E"/>
-                <outlet property="smallStiveView" destination="MfN-nT-Ult" id="93c-kV-dZo"/>
+                <outlet property="smallStiveView" destination="YWc-s9-Z9u" id="3jY-De-nT4"/>
                 <outlet property="toolsStackView" destination="D10-R1-Ltm" id="x1Y-6o-cO9"/>
                 <outlet property="undoBtn" destination="Gvg-8X-uYD" id="jWs-iH-LQO"/>
                 <outlet property="undoContainerView" destination="bnH-53-ITQ" id="74L-c7-zS5"/>
@@ -472,18 +472,12 @@
                         <action selector="rotationCameraControllButtonAction:" destination="-1" eventType="touchUpInside" id="Ojb-DH-Ab0"/>
                     </connections>
                 </button>
-                <view hidden="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="MfN-nT-Ult" customClass="SmallModelView" customModule="Crafty_Craft_5" customModuleProvider="target">
+                <sceneKitView clipsSubviews="YES" multipleTouchEnabled="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="YWc-s9-Z9u">
                     <rect key="frame" x="293.66666666666669" y="590.33333333333337" width="116.33333333333331" height="116.66666666666663"/>
-                    <color key="backgroundColor" name="lightGreenBachgroundColor"/>
                     <constraints>
-                        <constraint firstAttribute="width" secondItem="MfN-nT-Ult" secondAttribute="height" multiplier="1:1" id="fuZ-MT-D7r"/>
+                        <constraint firstAttribute="width" secondItem="YWc-s9-Z9u" secondAttribute="height" multiplier="1:1" id="sQL-oT-v0X"/>
                     </constraints>
-                    <userDefinedRuntimeAttributes>
-                        <userDefinedRuntimeAttribute type="number" keyPath="cornerRadius">
-                            <integer key="value" value="5"/>
-                        </userDefinedRuntimeAttribute>
-                    </userDefinedRuntimeAttributes>
-                </view>
+                </sceneKitView>
                 <view hidden="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="d20-uq-IDt" userLabel="BrashSizeView" customClass="BrashSizeView" customModule="Crafty_Craft_5" customModuleProvider="target">
                     <rect key="frame" x="0.0" y="605.66666666666663" width="430" height="121.33333333333337"/>
                     <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
@@ -503,12 +497,12 @@
             <constraints>
                 <constraint firstItem="fnl-2z-Ty3" firstAttribute="trailing" secondItem="glY-bF-pQp" secondAttribute="trailing" constant="16" id="29i-qc-CJy"/>
                 <constraint firstAttribute="bottom" secondItem="D10-R1-Ltm" secondAttribute="bottom" id="2Mh-1N-LWs"/>
-                <constraint firstItem="MfN-nT-Ult" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.125" id="3D0-QB-GYh"/>
                 <constraint firstItem="D10-R1-Ltm" firstAttribute="leading" secondItem="i5M-Pr-FkT" secondAttribute="leading" id="5Xt-VL-dh6"/>
+                <constraint firstItem="YWc-s9-Z9u" firstAttribute="trailing" secondItem="EEn-mf-WOc" secondAttribute="trailing" constant="-20" id="86f-b9-njR"/>
                 <constraint firstItem="fnl-2z-Ty3" firstAttribute="trailing" secondItem="EEn-mf-WOc" secondAttribute="trailing" id="IAY-2Y-FtN"/>
-                <constraint firstItem="MfN-nT-Ult" firstAttribute="bottom" secondItem="EEn-mf-WOc" secondAttribute="bottom" constant="-20" id="J2h-7a-IYv"/>
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="top" secondItem="fnl-2z-Ty3" secondAttribute="top" id="Kz5-jb-ofs"/>
                 <constraint firstItem="TI5-yZ-uEY" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.13" id="Lg3-fZ-CLz"/>
+                <constraint firstItem="YWc-s9-Z9u" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.125" id="MtE-dW-bFI"/>
                 <constraint firstItem="UER-0E-SS7" firstAttribute="top" secondItem="i5M-Pr-FkT" secondAttribute="top" id="PL4-Hq-pDB"/>
                 <constraint firstAttribute="trailing" secondItem="D10-R1-Ltm" secondAttribute="trailing" id="StB-V0-IBi"/>
                 <constraint firstAttribute="trailing" secondItem="UER-0E-SS7" secondAttribute="trailing" id="Xho-bU-OMJ"/>
@@ -519,7 +513,6 @@
                 <constraint firstItem="oiI-Mh-Q6Y" firstAttribute="top" secondItem="lhO-Vb-FiW" secondAttribute="bottom" constant="8" id="eJ0-ms-8K7"/>
                 <constraint firstAttribute="trailing" secondItem="oiI-Mh-Q6Y" secondAttribute="trailing" constant="8" id="fHd-FE-HWq"/>
                 <constraint firstItem="UER-0E-SS7" firstAttribute="leading" secondItem="i5M-Pr-FkT" secondAttribute="leading" id="ggh-cR-AGr"/>
-                <constraint firstItem="MfN-nT-Ult" firstAttribute="trailing" secondItem="EEn-mf-WOc" secondAttribute="trailing" constant="-20" id="hDT-A5-JQm"/>
                 <constraint firstItem="D10-R1-Ltm" firstAttribute="top" secondItem="d20-uq-IDt" secondAttribute="bottom" id="ikm-B2-7Il"/>
                 <constraint firstItem="EEn-mf-WOc" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="jjV-Fh-hNm"/>
                 <constraint firstItem="EEn-mf-WOc" firstAttribute="top" secondItem="oiI-Mh-Q6Y" secondAttribute="bottom" id="jus-x0-FCS"/>
@@ -527,6 +520,7 @@
                 <constraint firstItem="516-2I-QlD" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.09" id="pvk-iL-f0u"/>
                 <constraint firstItem="d20-uq-IDt" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="tgl-Mp-X0o"/>
                 <constraint firstItem="D10-R1-Ltm" firstAttribute="top" secondItem="EEn-mf-WOc" secondAttribute="bottom" id="wBV-Sc-Os4"/>
+                <constraint firstItem="YWc-s9-Z9u" firstAttribute="bottom" secondItem="EEn-mf-WOc" secondAttribute="bottom" constant="-20" id="wYZ-Kb-SOV"/>
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="wtk-QP-brM"/>
                 <constraint firstItem="d20-uq-IDt" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.130186" id="xTG-Eo-6QP"/>
             </constraints>
-- 
2.37.0

