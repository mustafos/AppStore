From ceaa3a03f1575d910515d109a36eaa8b8900a431 Mon Sep 17 00:00:00 2001
From: VitalyPolezhay <>
Date: Mon, 25 Sep 2023 19:37:20 +0300
Subject: [PATCH] added categories

---
 Crafty Craft 5.xcodeproj/project.pbxproj      |   8 ++
 .../DropBoxManager/DBModelFile.swift          |   1 +
 .../DropBoxManager/DBParserFile.swift         |   7 +-
 Crafty Craft 5/Realm/RealmEntities.swift      |   1 +
 ...torViewController + UICollectionView.swift |   2 +-
 .../AddonCategoryOptionsViewController.swift  | 120 ++++++++++++++++++
 .../AddonCategoryOptionsViewController.xib    |  99 +++++++++++++++
 .../AddonOptionsViewController.swift          |  15 +--
 .../AddonOptionsViewController.xib            |   2 +-
 .../ListTableViewCell/ListTableViewCell.swift |  16 +++
 .../MainAddonCreatorModel.swift               |  28 ++++
 11 files changed, 288 insertions(+), 11 deletions(-)
 create mode 100644 Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.swift
 create mode 100644 Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.xib

diff --git a/Crafty Craft 5.xcodeproj/project.pbxproj b/Crafty Craft 5.xcodeproj/project.pbxproj
index 118521c..dcc9ab5 100644
--- a/Crafty Craft 5.xcodeproj/project.pbxproj	
+++ b/Crafty Craft 5.xcodeproj/project.pbxproj	
@@ -19,6 +19,8 @@
 		039BF15C2AA23B370065EF48 /* ManualInstructionViewController.xib in Resources */ = {isa = PBXBuildFile; fileRef = 039BF14B2AA227BE0065EF48 /* ManualInstructionViewController.xib */; };
 		039BF15D2AA23B520065EF48 /* CraftyAlertViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 039BF1462AA200750065EF48 /* CraftyAlertViewController.swift */; };
 		039BF15E2AA23B570065EF48 /* CraftyAlertViewController.xib in Resources */ = {isa = PBXBuildFile; fileRef = 039BF1472AA200750065EF48 /* CraftyAlertViewController.xib */; };
+		03A757DF2ABDE836004C18DC /* AddonCategoryOptionsViewController.swift in Sources */ = {isa = PBXBuildFile; fileRef = 03A757DD2ABDE836004C18DC /* AddonCategoryOptionsViewController.swift */; };
+		03A757E02ABDE836004C18DC /* AddonCategoryOptionsViewController.xib in Resources */ = {isa = PBXBuildFile; fileRef = 03A757DE2ABDE836004C18DC /* AddonCategoryOptionsViewController.xib */; };
 		07817DA82A6E8C7500D1A95B /* Configurations.swift in Sources */ = {isa = PBXBuildFile; fileRef = 07817DA72A6E8C7500D1A95B /* Configurations.swift */; };
 		1C2983C72A5EADAA00E936BA /* AddonsOptionsContainerCell.swift in Sources */ = {isa = PBXBuildFile; fileRef = 1C2983C42A5EADAA00E936BA /* AddonsOptionsContainerCell.swift */; };
 		1C2983C82A5EADAA00E936BA /* AddonsOptionsCellWithTextField.swift in Sources */ = {isa = PBXBuildFile; fileRef = 1C2983C52A5EADAA00E936BA /* AddonsOptionsCellWithTextField.swift */; };
@@ -296,6 +298,8 @@
 		039BF14A2AA227BE0065EF48 /* ManualInstructionViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = ManualInstructionViewController.swift; sourceTree = "<group>"; };
 		039BF14B2AA227BE0065EF48 /* ManualInstructionViewController.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = ManualInstructionViewController.xib; sourceTree = "<group>"; };
 		039BF1582AA23ABD0065EF48 /* ContentViewController+SaveImage.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = "ContentViewController+SaveImage.swift"; sourceTree = "<group>"; };
+		03A757DD2ABDE836004C18DC /* AddonCategoryOptionsViewController.swift */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.swift; path = AddonCategoryOptionsViewController.swift; sourceTree = "<group>"; };
+		03A757DE2ABDE836004C18DC /* AddonCategoryOptionsViewController.xib */ = {isa = PBXFileReference; lastKnownFileType = file.xib; path = AddonCategoryOptionsViewController.xib; sourceTree = "<group>"; };
 		07817DA72A6E8C7500D1A95B /* Configurations.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = Configurations.swift; sourceTree = "<group>"; };
 		1C2983C42A5EADAA00E936BA /* AddonsOptionsContainerCell.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = AddonsOptionsContainerCell.swift; sourceTree = "<group>"; };
 		1C2983C52A5EADAA00E936BA /* AddonsOptionsCellWithTextField.swift */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.swift; path = AddonsOptionsCellWithTextField.swift; sourceTree = "<group>"; };
@@ -830,6 +834,8 @@
 				6352819C2A589FE000F3EB23 /* MainAddonCreatorModel.swift */,
 				F41F6D002A20F73700F72851 /* AddonOptionsViewController.swift */,
 				F41F6D012A20F73700F72851 /* AddonOptionsViewController.xib */,
+				03A757DD2ABDE836004C18DC /* AddonCategoryOptionsViewController.swift */,
+				03A757DE2ABDE836004C18DC /* AddonCategoryOptionsViewController.xib */,
 				63EE81A72A5811F4005BE8E7 /* ListTableViewCell */,
 			);
 			path = AddonOptionsViewController;
@@ -1502,6 +1508,7 @@
 				F42CEC5F2A09228200A6D2D6 /* ContentViewController.xib in Resources */,
 				F4DB05DC2A02962800E4C43D /* ContentTabViewController.xib in Resources */,
 				F41F6D072A20FC6B00F72851 /* ListTableViewCell.xib in Resources */,
+				03A757E02ABDE836004C18DC /* AddonCategoryOptionsViewController.xib in Resources */,
 				F420A79A2A0283960098B849 /* LaunchScreen.storyboard in Resources */,
 				F4AA287F2A1BB04D001B9F0A /* Skin3DTestViewController.xib in Resources */,
 				63EE81AD2A581362005BE8E7 /* AddonEditorViewController.xib in Resources */,
@@ -1685,6 +1692,7 @@
 				D70705802A6169E10098A501 /* URL+Remove.swift in Sources */,
 				6368CAC52A3094A30055E2AC /* CubicSteveModel.swift in Sources */,
 				635281932A589ECA00F3EB23 /* RealmService.swift in Sources */,
+				03A757DF2ABDE836004C18DC /* AddonCategoryOptionsViewController.swift in Sources */,
 				F40415E82A126E9500066473 /* DrawCommand.swift in Sources */,
 				D72306E42A79310B0000F6B3 /* UIColor+Resource.swift in Sources */,
 				F4DB05E42A02ACD100E4C43D /* TabBarWithCorners.swift in Sources */,
diff --git a/Crafty Craft 5/DropBoxManager/DBModelFile.swift b/Crafty Craft 5/DropBoxManager/DBModelFile.swift
index 6c8c2bf..662bf79 100644
--- a/Crafty Craft 5/DropBoxManager/DBModelFile.swift	
+++ b/Crafty Craft 5/DropBoxManager/DBModelFile.swift	
@@ -113,6 +113,7 @@ struct AddonItem: Equatable, Codable {
     var idshka = String()
     var displayName = String()
     var displayImage = String()
+    var categoryImage = String()
     var skin_variants = [SkinVariants]()
     var id = String()
     var type = String()
diff --git a/Crafty Craft 5/DropBoxManager/DBParserFile.swift b/Crafty Craft 5/DropBoxManager/DBParserFile.swift
index 441dc29..90f998b 100644
--- a/Crafty Craft 5/DropBoxManager/DBParserFile.swift	
+++ b/Crafty Craft 5/DropBoxManager/DBParserFile.swift	
@@ -183,6 +183,7 @@ final class DropBoxParserFiles: NSObject {
                             addon.idshka = item.idshka
                             addon.displayName = item.displayName
                             addon.displayImage = AddonsEditorContent.addonMakerFolder + item.displayImage
+                            addon.categoryImage = item.categoryImage
                             addon.id = item.id
                             addon.type = item.type
                             addon.file = item.file
@@ -613,12 +614,13 @@ extension DropBoxParserFiles {
                 if let content = addonsItems[categoryName.key.description] as? [[String : Any]] {
                     AppDelegate.log("DropBoxParserFiles: parseAddonsEditor @@ Content -\(content)")
                     
-                    if categoryName.key == "Items" {
+                    if categoryName.key != "Mobs" {
                         for itemContent in content {
                             AppDelegate.log("DropBoxParserFiles: parseAddonsEditor items_templates @@ Content Item -\(itemContent)")
                             
                             if let displayName = itemContent["displayName"] as? String,
                                let displayImage = itemContent["displayImage"] as? String,
+                               let categoryImage = itemContent["categoryImage"] as? String,
                                let id = itemContent["id"] as? String,
                                let skin_variants = itemContent["skin_variants"] as? [[String : Any]] {
                                 
@@ -638,6 +640,7 @@ extension DropBoxParserFiles {
                                 let addonItem = AddonItem(idshka: id_string,
                                                           displayName: displayName,
                                                           displayImage: displayImage,
+                                                          categoryImage: categoryImage,
                                                           skin_variants: skinVariants,
                                                           id: id,
                                                           type: categoryName.key)
@@ -650,6 +653,7 @@ extension DropBoxParserFiles {
                             
                             if let displayName = itemContent["displayName"] as? String,
                                let displayImage = itemContent["displayImage"] as? String,
+                               let categoryImage = itemContent["categoryImage"] as? String,
                                let id = itemContent["id"] as? String,
                                let health = itemContent["health"] as? Float,
                                let move_speed = itemContent["move_speed"] as? Float,
@@ -698,6 +702,7 @@ extension DropBoxParserFiles {
                                 let addonItem = AddonItem(idshka: id_string,
                                                           displayName: displayName,
                                                           displayImage: displayImage,
+                                                          categoryImage: categoryImage,
                                                           skin_variants: skinVariants,
                                                           id: id,
                                                           type: categoryName.key,
diff --git a/Crafty Craft 5/Realm/RealmEntities.swift b/Crafty Craft 5/Realm/RealmEntities.swift
index 0943c6f..f2b36f8 100644
--- a/Crafty Craft 5/Realm/RealmEntities.swift	
+++ b/Crafty Craft 5/Realm/RealmEntities.swift	
@@ -37,6 +37,7 @@ final class AddonSkinVariantObj: EmbeddedObject {
 final class AddonsEdotorRealmSession: Object  {
     @Persisted var idshka: String = ""
     @Persisted var displayName: String = ""
+    @Persisted var categoryImage: String = ""
     @Persisted var displayImage: String = ""
     @Persisted var displayImageData: Data?
     @Persisted var id: String = ""
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonCreatorMainScreen/AddonCreatorViewController + UICollectionView.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonCreatorMainScreen/AddonCreatorViewController + UICollectionView.swift
index 15b576e..54decaa 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonCreatorMainScreen/AddonCreatorViewController + UICollectionView.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonCreatorMainScreen/AddonCreatorViewController + UICollectionView.swift	
@@ -7,7 +7,7 @@ extension AddonCreatorViewController : UICollectionViewDelegate {
         if indexPath.item == 0 {
             flushSearch()
             
-            let nextVC = AddonOptionsViewController()
+            let nextVC = AddonCategoryOptionsViewController()
             navigationController?.pushViewController(nextVC, animated: true)
             
         } else {
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.swift
new file mode 100644
index 0000000..8ad4aec
--- /dev/null
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.swift	
@@ -0,0 +1,120 @@
+//
+//  AddonCategoryOptionsViewController.swift
+//  Crafty Craft 5
+//
+//  Created by Vitaliy Polezhay on 22.09.2023.
+//  Copyright © 2023 Noname Digital. All rights reserved.
+//
+
+import UIKit
+
+enum AddonCategoryOptionsSection: Int, CaseIterable {
+    case category = 0
+    case items = 1
+}
+
+class AddonCategoryOptionsViewController: UIViewController {
+    
+    private enum Constant {
+        static let listCellIdentifier = "ListTableViewCell"
+        static let optionsCellIdentifier = "AddonsOptionsTableViewCell"
+        static let greenBackgroundImageName = "Green Background"
+        static let searchItemImageName = "Search Item"
+        static let saveItemImageName = "Save Item"
+    }
+    
+    lazy var model = MainAddonCreatorModel()
+    
+    // MARK: - IBOutlets
+    
+    @IBOutlet weak var navigationBar: UIView!
+    @IBOutlet weak var optionsTableView: UITableView!
+    @IBOutlet weak var tableViewToNavBarConstraint: NSLayoutConstraint!
+    
+    // MARK: - Lifecycle
+    
+    override func viewDidLoad() {
+        super.viewDidLoad()
+        setupViews()
+        
+    }
+    
+    @IBAction func onNavBarBackButtonTapped(_ sender: UIButton) {
+        navigationController?.popViewController(animated: true)
+    }
+    
+    // MARK: - Setup
+    
+    private func setupViews() {
+        navigationBar.backgroundColor = .clear
+        setupBackground()
+        setupTableView()
+    }
+    
+    private func setupBackground() {
+        let backgroundImageView = UIImageView(frame: view.bounds)
+        backgroundImageView.image = UIImage(named: Constant.greenBackgroundImageName)
+        backgroundImageView.contentMode = .scaleAspectFill
+        backgroundImageView.autoresizingMask = [.flexibleWidth, .flexibleHeight]
+        view.addSubview(backgroundImageView)
+        view.sendSubviewToBack(backgroundImageView)
+    }
+    
+    private func setupTableView() {
+        optionsTableView.delegate = self
+        optionsTableView.dataSource = self
+        optionsTableView.backgroundColor = .clear
+        
+        let listNib = UINib(nibName: Constant.listCellIdentifier, bundle: nil)
+        optionsTableView.register(listNib, forCellReuseIdentifier: Constant.listCellIdentifier)
+    }
+}
+
+
+// MARK: - UITableViewDelegate, UITableViewDataSource
+
+extension AddonCategoryOptionsViewController: UITableViewDelegate, UITableViewDataSource {
+    func numberOfSections(in tableView: UITableView) -> Int {
+        AddonCategoryOptionsSection.allCases.count
+    }
+
+    func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
+        switch section {
+        case AddonCategoryOptionsSection.category.rawValue:
+            return model.categories.count
+        case AddonCategoryOptionsSection.items.rawValue:
+            return model.itemsAddons.count
+        default:
+            return 0
+        }
+    }
+    
+    func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
+        let cell = tableView.dequeueReusableCell(withIdentifier: Constant.listCellIdentifier) as! ListTableViewCell
+        cell.backgroundColor = .clear
+        cell.selectionStyle = .none
+        if indexPath.section == AddonCategoryOptionsSection.items.rawValue {
+            cell.config(addonModel: model.itemsAddons[indexPath.row])
+        } else {
+            cell.configCategory(category: model.categories[indexPath.row])
+        }
+        return cell
+    }
+    
+    func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
+        if indexPath.section == AddonCategoryOptionsSection.items.rawValue {
+            let addonModel = model.itemsAddons[indexPath.row]
+            let covertedModel = SavedAddon(realmModel: addonModel)
+            navigationController?.pushViewController(AddonEditorViewController(addonModel: covertedModel), animated: true)
+        } else {
+            let nextVC = AddonOptionsViewController()
+            nextVC.categoryName = model.categories[indexPath.row].categoryName
+            navigationController?.pushViewController(nextVC, animated: true)
+        }
+        
+    }
+    
+    func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -> CGFloat {
+        return 100 // Replace with the desired height for your cells
+    }
+}
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.xib b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.xib
new file mode 100644
index 0000000..ba2fc1f
--- /dev/null
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonCategoryOptionsViewController.xib	
@@ -0,0 +1,99 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<document type="com.apple.InterfaceBuilder3.CocoaTouch.XIB" version="3.0" toolsVersion="21701" targetRuntime="iOS.CocoaTouch" propertyAccessControl="none" useAutolayout="YES" useTraitCollections="YES" useSafeAreas="YES" colorMatched="YES">
+    <device id="retina6_12" orientation="portrait" appearance="light"/>
+    <dependencies>
+        <deployment identifier="iOS"/>
+        <plugIn identifier="com.apple.InterfaceBuilder.IBCocoaTouchPlugin" version="21679"/>
+        <capability name="Safe area layout guides" minToolsVersion="9.0"/>
+        <capability name="System colors in document resources" minToolsVersion="11.0"/>
+        <capability name="documents saved in the Xcode 8 format" minToolsVersion="8.0"/>
+    </dependencies>
+    <customFonts key="customFonts">
+        <array key="Poppins-SemiBold.ttf">
+            <string>Poppins-SemiBold</string>
+        </array>
+    </customFonts>
+    <objects>
+        <placeholder placeholderIdentifier="IBFilesOwner" id="-1" userLabel="File's Owner" customClass="AddonCategoryOptionsViewController" customModule="Crafty_Craft_5" customModuleProvider="target">
+            <connections>
+                <outlet property="navigationBar" destination="7IY-XV-1T2" id="TKT-g0-EKJ"/>
+                <outlet property="optionsTableView" destination="DFZ-Hn-Wt6" id="BAR-ID-fSd"/>
+                <outlet property="tableViewToNavBarConstraint" destination="6Xq-wX-pIO" id="EdF-ji-F3c"/>
+                <outlet property="view" destination="BM3-be-INy" id="5hs-TC-VFa"/>
+            </connections>
+        </placeholder>
+        <placeholder placeholderIdentifier="IBFirstResponder" id="-2" customClass="UIResponder"/>
+        <view clearsContextBeforeDrawing="NO" contentMode="scaleToFill" id="BM3-be-INy">
+            <rect key="frame" x="0.0" y="0.0" width="393" height="852"/>
+            <autoresizingMask key="autoresizingMask" widthSizable="YES" heightSizable="YES"/>
+            <subviews>
+                <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="7IY-XV-1T2" userLabel="Navigation Bar">
+                    <rect key="frame" x="0.0" y="75" width="393" height="50"/>
+                    <subviews>
+                        <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Wed-6H-5LC" userLabel="Home Button">
+                            <rect key="frame" x="16" y="12" width="26" height="26"/>
+                            <constraints>
+                                <constraint firstAttribute="width" secondItem="Wed-6H-5LC" secondAttribute="height" multiplier="1:1" id="NG1-rd-4ac"/>
+                            </constraints>
+                            <inset key="imageEdgeInsets" minX="0.0" minY="0.0" maxX="2.2250738585072014e-308" maxY="0.0"/>
+                            <state key="normal" image="Back Item"/>
+                            <connections>
+                                <action selector="onNavBarBackButtonTapped:" destination="-1" eventType="touchUpInside" id="LZh-xL-KUa"/>
+                            </connections>
+                        </button>
+                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="ADDON CREATOR" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="RuD-5y-Aar">
+                            <rect key="frame" x="50" y="8" width="301" height="34"/>
+                            <fontDescription key="fontDescription" name="Poppins-SemiBold" family="Poppins SemiBold" pointSize="26"/>
+                            <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                            <nil key="highlightedColor"/>
+                        </label>
+                    </subviews>
+                    <color key="backgroundColor" systemColor="systemRedColor"/>
+                    <constraints>
+                        <constraint firstItem="Wed-6H-5LC" firstAttribute="top" secondItem="7IY-XV-1T2" secondAttribute="top" constant="12" id="3Me-9u-d15"/>
+                        <constraint firstItem="RuD-5y-Aar" firstAttribute="top" secondItem="7IY-XV-1T2" secondAttribute="top" constant="8" id="XCr-hF-Iht"/>
+                        <constraint firstAttribute="height" constant="50" id="Xwi-nb-eVF">
+                            <variation key="heightClass=regular-widthClass=regular" constant="64"/>
+                        </constraint>
+                        <constraint firstAttribute="bottom" secondItem="RuD-5y-Aar" secondAttribute="bottom" constant="8" id="e9M-M0-h1U"/>
+                        <constraint firstItem="Wed-6H-5LC" firstAttribute="leading" secondItem="7IY-XV-1T2" secondAttribute="leading" constant="16" id="hfW-qh-qcz"/>
+                        <constraint firstAttribute="trailing" secondItem="RuD-5y-Aar" secondAttribute="trailing" constant="42" id="ob1-y2-ceR"/>
+                        <constraint firstAttribute="bottom" secondItem="Wed-6H-5LC" secondAttribute="bottom" constant="12" id="r2Z-5i-dP9"/>
+                        <constraint firstItem="RuD-5y-Aar" firstAttribute="leading" secondItem="Wed-6H-5LC" secondAttribute="trailing" constant="8" id="rov-k1-x0c"/>
+                    </constraints>
+                </view>
+                <tableView clipsSubviews="YES" contentMode="scaleToFill" alwaysBounceVertical="YES" style="plain" separatorStyle="none" rowHeight="-1" estimatedRowHeight="-1" sectionHeaderHeight="-1" estimatedSectionHeaderHeight="-1" sectionFooterHeight="-1" estimatedSectionFooterHeight="-1" translatesAutoresizingMaskIntoConstraints="NO" id="DFZ-Hn-Wt6">
+                    <rect key="frame" x="16" y="141" width="361" height="669"/>
+                    <color key="backgroundColor" systemColor="systemBackgroundColor"/>
+                </tableView>
+            </subviews>
+            <viewLayoutGuide key="safeArea" id="5pE-CN-dmG"/>
+            <color key="backgroundColor" systemColor="systemBackgroundColor"/>
+            <constraints>
+                <constraint firstItem="DFZ-Hn-Wt6" firstAttribute="top" secondItem="7IY-XV-1T2" secondAttribute="bottom" constant="10" id="6Xq-wX-pIO"/>
+                <constraint firstItem="7IY-XV-1T2" firstAttribute="top" secondItem="5pE-CN-dmG" secondAttribute="top" constant="16" id="9ZH-Kj-j1D"/>
+                <constraint firstItem="7IY-XV-1T2" firstAttribute="leading" secondItem="5pE-CN-dmG" secondAttribute="leading" id="Bel-k2-YKJ"/>
+                <constraint firstItem="5pE-CN-dmG" firstAttribute="bottom" secondItem="DFZ-Hn-Wt6" secondAttribute="bottom" constant="8" id="Eat-CF-1Ew"/>
+                <constraint firstItem="5pE-CN-dmG" firstAttribute="trailing" secondItem="DFZ-Hn-Wt6" secondAttribute="trailing" constant="16" id="XVo-cd-fnn"/>
+                <constraint firstAttribute="trailing" secondItem="7IY-XV-1T2" secondAttribute="trailing" id="oSQ-6E-cPL"/>
+                <constraint firstItem="DFZ-Hn-Wt6" firstAttribute="top" secondItem="7IY-XV-1T2" secondAttribute="bottom" constant="16" id="uQ6-L5-3Of"/>
+                <constraint firstItem="DFZ-Hn-Wt6" firstAttribute="leading" secondItem="5pE-CN-dmG" secondAttribute="leading" constant="16" id="wjb-oe-3eJ"/>
+            </constraints>
+            <variation key="default">
+                <mask key="constraints">
+                    <exclude reference="6Xq-wX-pIO"/>
+                </mask>
+            </variation>
+            <point key="canvasLocation" x="107.24637681159422" y="20.089285714285712"/>
+        </view>
+    </objects>
+    <resources>
+        <image name="Back Item" width="24" height="24"/>
+        <systemColor name="systemBackgroundColor">
+            <color white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+        </systemColor>
+        <systemColor name="systemRedColor">
+            <color red="1" green="0.23137254901960785" blue="0.18823529411764706" alpha="1" colorSpace="custom" customColorSpace="sRGB"/>
+        </systemColor>
+    </resources>
+</document>
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.swift
index b934da3..91b0595 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.swift	
@@ -15,6 +15,8 @@ class AddonOptionsViewController: UIViewController {
     }
     
     lazy var model = MainAddonCreatorModel()
+    var addons: [AddonForDisplay] = []
+    var categoryName: String = ""
     
     // MARK: - IBOutlets
     
@@ -27,8 +29,8 @@ class AddonOptionsViewController: UIViewController {
     
     override func viewDidLoad() {
         super.viewDidLoad()
+        self.addons = model.savedAddons.filter({$0.type == categoryName})
         setupViews()
-        
     }
     
     @IBAction func onNavBarBackButtonTapped(_ sender: UIButton) {
@@ -68,25 +70,22 @@ class AddonOptionsViewController: UIViewController {
 extension AddonOptionsViewController: UITableViewDelegate, UITableViewDataSource {
     
     func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int {
-        return model.savedAddons.count // this should be replaced by your data count
+        return addons.count // this should be replaced by your data count
+        
     }
     
     func tableView(_ tableView: UITableView, cellForRowAt indexPath: IndexPath) -> UITableViewCell {
-        
         let cell = tableView.dequeueReusableCell(withIdentifier: Constant.listCellIdentifier) as! ListTableViewCell
         cell.backgroundColor = .clear
         cell.selectionStyle = .none
-        cell.config(addonModel: model.savedAddons[indexPath.row])
+        cell.config(addonModel: addons[indexPath.row])
 
         return cell
-        
     }
     
     func tableView(_ tableView: UITableView, didSelectRowAt indexPath: IndexPath) {
-        
-        let addonModel = model.savedAddons[indexPath.row]
+        let addonModel = addons[indexPath.row]
         let covertedModel = SavedAddon(realmModel: addonModel)
-
         navigationController?.pushViewController(AddonEditorViewController(addonModel: covertedModel), animated: true)
     }
     
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.xib b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.xib
index 57f120b..1792d9e 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.xib	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/AddonOptionsViewController.xib	
@@ -16,7 +16,7 @@
     <objects>
         <placeholder placeholderIdentifier="IBFilesOwner" id="-1" userLabel="File's Owner" customClass="AddonOptionsViewController" customModule="Crafty_Craft_5" customModuleProvider="target">
             <connections>
-                <outlet property="navigationBar" destination="crC-hD-w6F" id="g1B-YW-h2g"/>
+                <outlet property="navigationBar" destination="crC-hD-w6F" id="SAx-ar-eLb"/>
                 <outlet property="optionsTableView" destination="KpC-jf-69P" id="ia4-tY-qrp"/>
                 <outlet property="tableViewToNavBarConstraint" destination="Zy9-ij-ryE" id="sU4-ft-MW1"/>
                 <outlet property="view" destination="i5M-Pr-FkT" id="sfx-zR-JGt"/>
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/ListTableViewCell/ListTableViewCell.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/ListTableViewCell/ListTableViewCell.swift
index cb6b608..e1de41a 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/ListTableViewCell/ListTableViewCell.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/ListTableViewCell/ListTableViewCell.swift	
@@ -34,4 +34,20 @@ class ListTableViewCell: UITableViewCell {
             }
         }
     }
+    
+    func configCategory(category: AddonCategory) {
+        self.nameLabel.text = category.categoryName
+        if let imageData = category.displayImageData, let image = UIImage(data: imageData) {
+            cellImage.image = image
+        } else {
+            DropBoxParserFiles.shared.getBloodyImageURLFromDropBox(img: category.imagePathName) { [weak self] imgPAth in
+                if let imgPath = imgPAth {
+                    self?.cellImage.loadImage(from: imgPath, id: category.imagePathName) { img in
+                        category.displayImageData = img?.pngData()
+                    }
+                }
+            }
+        }
+        
+    }
 }
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/MainAddonCreatorModel.swift b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/MainAddonCreatorModel.swift
index e0d8c5f..585d465 100644
--- a/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/MainAddonCreatorModel.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/Addon Creator/AddonOptionsViewController/MainAddonCreatorModel.swift	
@@ -7,13 +7,39 @@
 
 import Foundation
 
+class AddonCategory {
+    let categoryName: String
+    let imagePathName: String
+    var displayImageData: Data? = nil
+    
+    init(title: String, imagePathName: String) {
+        self.categoryName = title
+        self.imagePathName = imagePathName
+    }
+}
+
+struct AddonCategoryDTO: Hashable {
+    let title: String
+    let imagePathName: String
+}
 
 class MainAddonCreatorModel {
     
+    var itemsAddons: [AddonForDisplay]
     var savedAddons: [AddonForDisplay]
+    var categories: [AddonCategory]
     
     init() {
         savedAddons = RealmService.shared.getAddonEditorArray().map( { AddonForDisplay(realmModel: $0) })
+
+        var categoriesSet: Set<AddonCategoryDTO> = []
+        savedAddons.forEach {
+            categoriesSet.insert(.init(title: $0.type, imagePathName: $0.categoryImage))
+        }
+        categories = categoriesSet.map( {AddonCategory(title: $0.title, imagePathName: AddonsEditorContent.addonMakerFolder + $0.imagePathName) })
+        categories.removeAll(where: {$0.categoryName == "Items"})
+        
+        itemsAddons = savedAddons.filter({ $0.type == "Items"})
     }
 }
 
@@ -33,6 +59,7 @@ class AddonForDisplay {
     var idshka: String = ""
     var displayName: String = ""
     var displayImage: String = ""
+    var categoryImage: String = ""
     var displayImageData: Data?
     var id: String = ""
     var type: String = ""
@@ -57,6 +84,7 @@ class AddonForDisplay {
         self.displayName = realmModel.displayName
         self.displayImage = realmModel.displayImage
         self.displayImageData = realmModel.displayImageData
+        self.categoryImage = realmModel.categoryImage
         self.id = realmModel.id
         self.type = realmModel.type
         self.file = realmModel.file
-- 
2.37.0

