From 19e0b864bffd56509dd5a027c4c4b11cdea22f62 Mon Sep 17 00:00:00 2001
From: VitalyPolezhay <>
Date: Mon, 18 Sep 2023 17:48:46 +0300
Subject: [PATCH] fixed 18.10

---
 .../3dModel/EditorSkinModel.swift             | 12 ++--
 .../3dModel/EditorSkinModel.swift.rej         |  9 +++
 .../Skin3DCreator/ColorManager3D.swift        | 10 ++-
 ...on_Skin3DTestViewController+Gestures.swift | 27 ++++++--
 .../Skin3DTestViewController.swift            | 40 +++++++-----
 .../Skin3DTestViewController.xib              | 65 ++++++++++---------
 6 files changed, 99 insertions(+), 64 deletions(-)
 create mode 100644 Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift.rej

diff --git a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift
index 3485887..13c682c 100644
--- a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift	
@@ -144,12 +144,10 @@ class EditorSkinModel {
     
     private func tapDrawLogic(nodeColors: [UIColor], nodeIndex: Int, nameRootNod: String, gestureState: UIGestureRecognizer.State) {
         switch controller.toolBarSelectedItem {
-        case .pencil:
+        case .pencil, .brash:
             sizeBrushWith(color: currentDrawingColor, forIndex: nodeIndex, nameRootNod: nameRootNod, gestureState: gestureState)
         case .eraser:
             sizeBrushWith(color: .clear, forIndex: nodeIndex, nameRootNod: nameRootNod, gestureState: gestureState)
-        case .brash:
-            break
         case .fill:
             let colorsIndex = Array(0..<nodeColors.count)
             if drawSkinCommands.undoCommands.count > commandIndex {
@@ -241,13 +239,13 @@ class EditorSkinModel {
                     switch controller.toolBarSelectedItem {
                     case .fill:
                         break
-                    case .pencil:
+                    case .pencil, .brash:
                         newColor = color
                     case .noise:
                         newColor = makeNoiseColor()
                     case .eraser:
                         newColor = .clear
-                    case .undo, .brash:
+                    case .undo:
                         break
                     }
                     colorlForSideNodes[nameRootNod]?[i] = newColor
@@ -373,7 +371,7 @@ class EditorSkinModel {
     //MARK: Pan
     private func panDrawLogic(index: Int, nameRootNode: String, gestureState: UIGestureRecognizer.State) {
         switch controller.toolBarSelectedItem {
-        case .pencil:
+        case .pencil, .brash:
             sizeBrushWith(color: currentDrawingColor, forIndex: index, nameRootNod: nameRootNode, gestureState: gestureState)
         case .fill:
             break
@@ -382,7 +380,7 @@ class EditorSkinModel {
             sizeBrushWith(color: noiseColor, forIndex: index, nameRootNod: nameRootNode, gestureState: gestureState)
         case .eraser:
             sizeBrushWith(color: .clear, forIndex: index, nameRootNod: nameRootNode, gestureState: gestureState)
-        case .undo, .brash:
+        case .undo:
             break
         }
     }
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift.rej b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift.rej
new file mode 100644
index 0000000..ef6046c
--- /dev/null
+++ b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift.rej	
@@ -0,0 +1,9 @@
+diff a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/3dModel/EditorSkinModel.swift	(rejected hunks)
+@@ -81,7 +81,6 @@ class EditorSkinModel {
+     }
+     
+     func makeUndoDrawCommand() {
+-        print("commandIndex - \(commandIndex)")
+         if commandIndex > 0 {
+             let command = drawSkinCommands.undoCommands[commandIndex - 1]
+             for i in 0..<command.indexes.count {
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/ColorManager3D.swift b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/ColorManager3D.swift
index 43e0ec3..424bc5e 100644
--- a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/ColorManager3D.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/ColorManager3D.swift	
@@ -18,8 +18,8 @@ protocol ColorAble3D {
 
 class ColorManager3D {
 
-    private let defaultColor = UIColor.black
-    private var colorsArr = [UIColor]()
+    private let defaultColors: [UIColor] = [.black, .white, .red, .green, .yellow, .blue, .cyan, .purple]
+    private var colorsArr: [UIColor] = []
     var delegate: ColorAble3D?
     var selectedColorIndex = 0
     
@@ -49,7 +49,7 @@ class ColorManager3D {
     }
     
     func addNewColor(color: UIColor) {
-        if color != .clear {
+        if color != .clear, color.alpha != 0 {
             if colorsArr.count == maxColors {
                 colorsArr.removeLast()
             }
@@ -97,8 +97,6 @@ class ColorManager3D {
         if let colorDataArray = UserDefaults.standard.array(forKey: "SavedColors") as? [Data] {
             return colorDataArray.compactMap { UIColor.decode(from: $0) }
         }
-        return [defaultColor]
+        return defaultColors
     }
-    
-    
 }
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Extension_Skin3DTestViewController+Gestures.swift b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Extension_Skin3DTestViewController+Gestures.swift
index d62768e..09cdc0d 100644
--- a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Extension_Skin3DTestViewController+Gestures.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Extension_Skin3DTestViewController+Gestures.swift	
@@ -22,6 +22,9 @@ extension Skin3DTestViewController {
         }
     }
     
+    static var locationOfBeganTap: CGPoint = .zero
+    static var cameraControll: Bool = false
+    
     @objc func panOnSceneAction(_ sender: UIPanGestureRecognizer) {
         let targetView = sender.view
         let touchLocation = sender.location(in: targetView)
@@ -29,18 +32,32 @@ extension Skin3DTestViewController {
         
         switch sender.state {
         case .began:
-            guard let hitTestResult = sceneView.hitTest(touchLocation, options: [:]).first else { return }
+            guard let hitTestResult = sceneView.hitTest(touchLocation, options: [:]).first else {
+                Self.cameraControll = true
+                Self.locationOfBeganTap = sender.location(in: view)
+                return
+            }
+            Self.cameraControll = false
             let node = hitTestResult.node
             if let index = Int(node.name ?? ""), let parentNodeName = node.parent?.name {
                 editorSkinModel.panBeganToDrawingOnSkin(nameRootNod: parentNodeName, nodeIndex: index, gestureState: gestureState)
             }
         case .changed:
-            guard let hitTestResult = sceneView.hitTest(touchLocation, options: [:]).first else { return }
-            let node = hitTestResult.node
-            if let index = Int(node.name ?? ""), let parentNodeName = node.parent?.name {
-                editorSkinModel.panChangedToDrawingOnSkin(nameRootNod: parentNodeName, nodeIndex: index, gestureState: gestureState)
+            if Self.cameraControll {
+                var newLocation = sender.location(in: view)
+                newLocation = .init(x: newLocation.x, y: newLocation.y)
+                sceneView.defaultCameraController.rotateBy(x: Float(Self.locationOfBeganTap.x - newLocation.x)/1.5, y: Float(Self.locationOfBeganTap.y - newLocation.y )/1.5)
+                Self.locationOfBeganTap = newLocation
+            } else {
+                guard let hitTestResult = sceneView.hitTest(touchLocation, options: [:]).first else { return }
+                let node = hitTestResult.node
+                if let index = Int(node.name ?? ""), let parentNodeName = node.parent?.name {
+                    editorSkinModel.panChangedToDrawingOnSkin(nameRootNod: parentNodeName, nodeIndex: index, gestureState: gestureState)
+                }
             }
+            
         case .ended:
+            guard !sceneView.allowsCameraControl else { return }
             editorSkinModel.panEndedToDrawingOnSkin()
         case .cancelled, .possible, .failed:
             break
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.swift b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.swift
index c772b27..fb57c89 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.swift	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.swift	
@@ -35,31 +35,21 @@ class Skin3DTestViewController: UIViewController {
     
     var toolBarSelectedItem: ToolBar3DSelectedItem = .pencil {
         didSet {
-
-//            colorsBrashContainerView.isHidden = true
-//            brashSizeView.isHidden = true
-            dropperButton.isHidden = true
             brashSizeView.currentBrashTool = toolBarSelectedItem
             colorsBrashContainerView.isHidden = false
-            brashSizeView.isHidden = true
             
             switch toolBarSelectedItem {
             case .pencil:
-                brashSizeView.isHidden = false
                 toolsStackView.backgroundColor = .clear
             case .eraser:
-                brashSizeView.isHidden = false
                 toolsStackView.backgroundColor = .clear
-                colorsBrashContainerView.isHidden = true
             case .brash:
                 toolsStackView.backgroundColor = UIColor(named: "lightGreenBachgroundColor")
-                dropperButton.isHidden = false
                 toolsStackView.backgroundColor = #colorLiteral(red: 0.0862745098, green: 0.4039215686, blue: 0.3411764706, alpha: 1)
             case .noise:
                 toolsStackView.backgroundColor = .clear
-                brashSizeView.isHidden = false
             case .undo:
-                colorsBrashContainerView.isHidden = true
+//                colorsBrashContainerView.isHidden = true
                 toolsStackView.backgroundColor = .clear
             case .fill:
                 toolsStackView.backgroundColor = #colorLiteral(red: 0.0862745098, green: 0.4039215686, blue: 0.3411764706, alpha: 1)
@@ -140,7 +130,7 @@ class Skin3DTestViewController: UIViewController {
     
     @IBAction func rotationCameraControllButtonAction(_ sender: UIButton) {
         if smallStiveView.isHidden {
-            smallStiveView.isHidden = false
+            smallStiveView.isHidden = true
             sceneView.allowsCameraControl = true
             tapGestureOnSCNScene.isEnabled = false
             panGestureOnSCNScene.isEnabled = false
@@ -149,7 +139,7 @@ class Skin3DTestViewController: UIViewController {
             tapGestureOnSCNScene.isEnabled = true
             panGestureOnSCNScene.isEnabled = true
             panForColorPickerRecognizer.isEnabled = false
-            smallStiveView.isHidden = true
+            smallStiveView.isHidden = false
             sceneView.allowsCameraControl = false
         }
         hideMagnifyingGlass()
@@ -158,34 +148,36 @@ class Skin3DTestViewController: UIViewController {
     @IBAction func onToolBarPencilButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: pencilLab)
+        updateBrashSizeHiddenStatus(.pencil)
         toolBarSelectedItem = .pencil
     }
     
     @IBAction func onToolBarEraserButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: eraserLab)
+        updateBrashSizeHiddenStatus(.eraser)
         toolBarSelectedItem = .eraser
     }
     
     @IBAction func onToolBarBrashButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: dropperLab)
+        updateBrashSizeHiddenStatus(.brash)
         toolBarSelectedItem = .brash
         
-        if sender.isSelected == false {
-            colorsBrashContainerView.isHidden = true
-        }
     }
     
     @IBAction func onToolBarFillButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: fillLab)
+        updateBrashSizeHiddenStatus(.fill)
         toolBarSelectedItem = .fill
     }
     
     @IBAction func onToolBarNoiseButtonTapped(_ sender: UIButton) {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: noiseLab)
+        updateBrashSizeHiddenStatus(.noise)
         toolBarSelectedItem = .noise
     }
     
@@ -193,6 +185,7 @@ class Skin3DTestViewController: UIViewController {
         hideMagnifyingGlass()
         manageSelectedToolUI(tappedTool: sender, tappedLab: undoLab)
         editorSkinModel.makeUndoDrawCommand()
+        updateBrashSizeHiddenStatus(.undo)
         toolBarSelectedItem = .undo
     }
     
@@ -278,6 +271,19 @@ class Skin3DTestViewController: UIViewController {
     
     //MARK: Private functions
     
+    private func updateBrashSizeHiddenStatus(_ item: ToolBar3DSelectedItem) {
+        if item == .fill || item == .undo {
+            brashSizeView.isHidden = true
+            return
+        }
+        
+        if !brashSizeView.isHidden {
+            brashSizeView.isHidden.toggle()
+        } else {
+            brashSizeView.isHidden = toolBarSelectedItem != item
+        }
+    }
+    
     func setupColorColletion() {
         color3DCollection.delegate = self
         color3DCollection.dataSource = self
@@ -312,7 +318,7 @@ class Skin3DTestViewController: UIViewController {
         
         sceneView.scene = scnModel.scene
         sceneView.autoenablesDefaultLighting = true
-        sceneView.allowsCameraControl = false // <--- when user go to edit mode
+        sceneView.allowsCameraControl = true // <--- when user go to edit mode
         sceneView.showsStatistics = false
         startingPointOfView = sceneView.pointOfView
         
diff --git a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.xib b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.xib
index e59300f..07942f3 100755
--- a/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.xib	
+++ b/Crafty Craft 5/Tab Bar/Create Tab/SkinsCreator/ListOfCreatedSkinsController/Skin3DCreator/Skin3DTestViewController.xib	
@@ -130,10 +130,6 @@
                 <stackView opaque="NO" contentMode="scaleToFill" axis="vertical" translatesAutoresizingMaskIntoConstraints="NO" id="D10-R1-Ltm" userLabel="Tools Stack View">
                     <rect key="frame" x="0.0" y="727" width="430" height="205"/>
                     <subviews>
-                        <view hidden="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="d20-uq-IDt" userLabel="BrashSizeView" customClass="BrashSizeView" customModule="Crafty_Craft_5" customModuleProvider="target">
-                            <rect key="frame" x="0.0" y="-121.33333333333337" width="430" height="121.33333333333333"/>
-                            <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
-                        </view>
                         <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="516-2I-QlD" userLabel="ColorsView">
                             <rect key="frame" x="0.0" y="0.0" width="430" height="84"/>
                             <subviews>
@@ -210,13 +206,13 @@
                                     <rect key="frame" x="0.0" y="0.0" width="430" height="121"/>
                                     <subviews>
                                         <stackView opaque="NO" contentMode="scaleToFill" distribution="fillEqually" spacing="8" translatesAutoresizingMaskIntoConstraints="NO" id="KwF-8J-KY2">
-                                            <rect key="frame" x="29" y="10" width="372" height="66"/>
+                                            <rect key="frame" x="10.666666666666657" y="10" width="408.66666666666674" height="66"/>
                                             <subviews>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="AjJ-SC-8ZB" userLabel="Pencil View Container">
-                                                    <rect key="frame" x="0.0" y="0.0" width="55.333333333333336" height="66"/>
+                                                    <rect key="frame" x="0.0" y="0.0" width="61.666666666666664" height="66"/>
                                                     <subviews>
                                                         <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="q71-xB-QT1" userLabel="Pencil Button">
-                                                            <rect key="frame" x="17.666666666666664" y="23" width="20" height="20"/>
+                                                            <rect key="frame" x="20.666666666666664" y="23" width="20" height="20"/>
                                                             <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <constraints>
                                                                 <constraint firstAttribute="width" secondItem="q71-xB-QT1" secondAttribute="height" multiplier="1:1" id="Ipv-SV-Fmn"/>
@@ -233,9 +229,8 @@
                                                                 <action selector="onToolBarPencilButtonTapped:" destination="-1" eventType="touchUpInside" id="MV8-kR-Cj6"/>
                                                             </connections>
                                                         </button>
-                                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="Pencil" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="kRj-Pc-XRa">
-                                                            <rect key="frame" x="5" y="50" width="43" height="13"/>
-                                                            <autoresizingMask key="autoresizingMask" flexibleMinX="YES" widthSizable="YES" flexibleMaxX="YES" flexibleMinY="YES" heightSizable="YES" flexibleMaxY="YES"/>
+                                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Pencil" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="kRj-Pc-XRa">
+                                                            <rect key="frame" x="0.0" y="49" width="61.666666666666664" height="14"/>
                                                             <fontDescription key="fontDescription" name="Poppins-Medium" family="Poppins Medium" pointSize="10"/>
                                                             <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <nil key="highlightedColor"/>
@@ -250,14 +245,17 @@
                                                     <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                     <constraints>
                                                         <constraint firstItem="q71-xB-QT1" firstAttribute="centerY" secondItem="AjJ-SC-8ZB" secondAttribute="centerY" id="AXu-LE-4G5"/>
+                                                        <constraint firstAttribute="bottom" secondItem="kRj-Pc-XRa" secondAttribute="bottom" constant="3" id="CCZ-Zm-s1b"/>
+                                                        <constraint firstItem="kRj-Pc-XRa" firstAttribute="leading" secondItem="AjJ-SC-8ZB" secondAttribute="leading" id="M6W-T7-Qa5"/>
+                                                        <constraint firstAttribute="trailing" secondItem="kRj-Pc-XRa" secondAttribute="trailing" id="Y6n-18-qb6"/>
                                                         <constraint firstItem="q71-xB-QT1" firstAttribute="centerX" secondItem="AjJ-SC-8ZB" secondAttribute="centerX" id="abe-eb-4bh"/>
                                                     </constraints>
                                                 </view>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="JHH-ah-ida" userLabel="Eraser View Container">
-                                                    <rect key="frame" x="63.333333333333329" y="0.0" width="55.333333333333329" height="66"/>
+                                                    <rect key="frame" x="69.666666666666657" y="0.0" width="61.333333333333343" height="66"/>
                                                     <subviews>
                                                         <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="mGU-sT-OYX" userLabel="Eraser Button">
-                                                            <rect key="frame" x="17.666666666666671" y="23" width="20" height="20"/>
+                                                            <rect key="frame" x="20.666666666666671" y="23" width="20" height="20"/>
                                                             <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <constraints>
                                                                 <constraint firstAttribute="width" constant="20" id="Cee-mc-jhF">
@@ -274,7 +272,7 @@
                                                             </connections>
                                                         </button>
                                                         <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="Eraser" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="2De-3i-r5Q">
-                                                            <rect key="frame" x="0.0" y="50" width="55" height="13"/>
+                                                            <rect key="frame" x="0.0" y="50" width="61" height="13"/>
                                                             <autoresizingMask key="autoresizingMask" flexibleMinX="YES" widthSizable="YES" flexibleMaxX="YES" flexibleMinY="YES" heightSizable="YES" flexibleMaxY="YES"/>
                                                             <fontDescription key="fontDescription" name="Poppins-Medium" family="Poppins Medium" pointSize="10"/>
                                                             <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
@@ -294,10 +292,10 @@
                                                     </constraints>
                                                 </view>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="vCn-an-dg5" userLabel="Picker View Container">
-                                                    <rect key="frame" x="126.66666666666664" y="0.0" width="55.333333333333329" height="66"/>
+                                                    <rect key="frame" x="139" y="0.0" width="61.333333333333343" height="66"/>
                                                     <subviews>
                                                         <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="juE-kK-GND" userLabel="Brash Button">
-                                                            <rect key="frame" x="17.666666666666686" y="23" width="20" height="20"/>
+                                                            <rect key="frame" x="20.666666666666686" y="23" width="20" height="20"/>
                                                             <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <constraints>
                                                                 <constraint firstAttribute="width" secondItem="juE-kK-GND" secondAttribute="height" multiplier="1:1" id="zFU-gu-zLY"/>
@@ -313,9 +311,8 @@
                                                                 <action selector="onToolBarBrashButtonTapped:" destination="-1" eventType="touchUpInside" id="Vav-qj-lBy"/>
                                                             </connections>
                                                         </button>
-                                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="Picker" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="3Gh-Yc-jsf">
-                                                            <rect key="frame" x="2" y="50" width="51" height="13"/>
-                                                            <autoresizingMask key="autoresizingMask" flexibleMinX="YES" widthSizable="YES" flexibleMaxX="YES" flexibleMinY="YES" heightSizable="YES" flexibleMaxY="YES"/>
+                                                        <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="Colorize" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="3Gh-Yc-jsf">
+                                                            <rect key="frame" x="0.0" y="49" width="61" height="14"/>
                                                             <fontDescription key="fontDescription" name="Poppins-Medium" family="Poppins Medium" pointSize="10"/>
                                                             <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <nil key="highlightedColor"/>
@@ -330,14 +327,17 @@
                                                     <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                     <constraints>
                                                         <constraint firstItem="juE-kK-GND" firstAttribute="centerY" secondItem="vCn-an-dg5" secondAttribute="centerY" id="8hg-GF-MeJ"/>
+                                                        <constraint firstAttribute="trailing" secondItem="3Gh-Yc-jsf" secondAttribute="trailing" id="9q0-9f-zSA"/>
+                                                        <constraint firstAttribute="bottom" secondItem="3Gh-Yc-jsf" secondAttribute="bottom" constant="3" id="RMH-36-zJV"/>
+                                                        <constraint firstItem="3Gh-Yc-jsf" firstAttribute="leading" secondItem="vCn-an-dg5" secondAttribute="leading" id="rBy-KB-Pqz"/>
                                                         <constraint firstItem="juE-kK-GND" firstAttribute="centerX" secondItem="vCn-an-dg5" secondAttribute="centerX" id="yM7-ar-XKh"/>
                                                     </constraints>
                                                 </view>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="3fW-0j-o7f" userLabel="Fill View Container">
-                                                    <rect key="frame" x="190" y="0.0" width="55.333333333333343" height="66"/>
+                                                    <rect key="frame" x="208.33333333333334" y="0.0" width="61.333333333333343" height="66"/>
                                                     <subviews>
                                                         <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="u5w-2X-H7d" userLabel="Fill Button">
-                                                            <rect key="frame" x="17.666666666666657" y="23" width="20" height="20"/>
+                                                            <rect key="frame" x="20.666666666666657" y="23" width="20" height="20"/>
                                                             <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <constraints>
                                                                 <constraint firstAttribute="width" secondItem="u5w-2X-H7d" secondAttribute="height" multiplier="1:1" id="Jda-Hi-7q9"/>
@@ -354,7 +354,7 @@
                                                             </connections>
                                                         </button>
                                                         <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="FIll" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="iS0-m1-FB5">
-                                                            <rect key="frame" x="0.0" y="49" width="57" height="16"/>
+                                                            <rect key="frame" x="0.0" y="49" width="63" height="16"/>
                                                             <autoresizingMask key="autoresizingMask" flexibleMinX="YES" widthSizable="YES" flexibleMaxX="YES" flexibleMinY="YES" heightSizable="YES" flexibleMaxY="YES"/>
                                                             <fontDescription key="fontDescription" name="Poppins-Medium" family="Poppins Medium" pointSize="10"/>
                                                             <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
@@ -374,10 +374,10 @@
                                                     </constraints>
                                                 </view>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="VD3-GA-Ulj" userLabel="Noise View Container">
-                                                    <rect key="frame" x="253.33333333333334" y="0.0" width="55.333333333333343" height="66"/>
+                                                    <rect key="frame" x="277.66666666666663" y="0.0" width="61.666666666666686" height="66"/>
                                                     <subviews>
                                                         <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="CSs-NF-l7Q" userLabel="Noise Button">
-                                                            <rect key="frame" x="17.666666666666686" y="23" width="20" height="20"/>
+                                                            <rect key="frame" x="20.666666666666686" y="23" width="20" height="20"/>
                                                             <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <constraints>
                                                                 <constraint firstAttribute="width" secondItem="CSs-NF-l7Q" secondAttribute="height" multiplier="1:1" id="8b4-q2-Rin"/>
@@ -394,7 +394,7 @@
                                                             </connections>
                                                         </button>
                                                         <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="Noise" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="6ze-Qp-jZ4">
-                                                            <rect key="frame" x="0.0" y="50" width="55" height="13"/>
+                                                            <rect key="frame" x="0.0" y="50" width="62" height="13"/>
                                                             <autoresizingMask key="autoresizingMask" flexibleMinX="YES" widthSizable="YES" flexibleMaxX="YES" flexibleMinY="YES" heightSizable="YES" flexibleMaxY="YES"/>
                                                             <fontDescription key="fontDescription" name="Poppins-Medium" family="Poppins Medium" pointSize="10"/>
                                                             <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
@@ -414,10 +414,10 @@
                                                     </constraints>
                                                 </view>
                                                 <view contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="bnH-53-ITQ" userLabel="Undo View Container">
-                                                    <rect key="frame" x="316.66666666666669" y="0.0" width="55.333333333333314" height="66"/>
+                                                    <rect key="frame" x="347.33333333333331" y="0.0" width="61.333333333333314" height="66"/>
                                                     <subviews>
                                                         <button opaque="NO" contentMode="scaleToFill" contentHorizontalAlignment="center" contentVerticalAlignment="center" lineBreakMode="middleTruncation" translatesAutoresizingMaskIntoConstraints="NO" id="Gvg-8X-uYD" userLabel="Undo Button">
-                                                            <rect key="frame" x="17.666666666666629" y="23" width="20" height="20"/>
+                                                            <rect key="frame" x="20.666666666666686" y="23" width="20" height="20"/>
                                                             <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                                             <constraints>
                                                                 <constraint firstAttribute="width" constant="20" id="dWi-Oz-gHb">
@@ -434,7 +434,7 @@
                                                             </connections>
                                                         </button>
                                                         <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" fixedFrame="YES" text="Undo" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="jzU-DG-vO7">
-                                                            <rect key="frame" x="0.0" y="50" width="52" height="13"/>
+                                                            <rect key="frame" x="0.0" y="50" width="58" height="13"/>
                                                             <autoresizingMask key="autoresizingMask" flexibleMinX="YES" widthSizable="YES" flexibleMaxX="YES" flexibleMinY="YES" heightSizable="YES" flexibleMaxY="YES"/>
                                                             <fontDescription key="fontDescription" name="Poppins-Medium" family="Poppins Medium" pointSize="10"/>
                                                             <color key="textColor" white="1" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
@@ -458,7 +458,7 @@
                                     </subviews>
                                     <color key="backgroundColor" white="0.33333333333333331" alpha="1" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
                                     <constraints>
-                                        <constraint firstItem="KwF-8J-KY2" firstAttribute="width" secondItem="TI5-yZ-uEY" secondAttribute="width" multiplier="0.86514" id="4bb-uI-8ZF"/>
+                                        <constraint firstItem="KwF-8J-KY2" firstAttribute="width" secondItem="TI5-yZ-uEY" secondAttribute="width" multiplier="0.95" id="4bb-uI-8ZF"/>
                                         <constraint firstItem="KwF-8J-KY2" firstAttribute="top" secondItem="TI5-yZ-uEY" secondAttribute="top" constant="10" id="ZQh-n7-Zd7"/>
                                         <constraint firstItem="KwF-8J-KY2" firstAttribute="height" secondItem="TI5-yZ-uEY" secondAttribute="height" multiplier="0.545455" id="i1I-C2-hS9"/>
                                         <constraint firstItem="KwF-8J-KY2" firstAttribute="centerX" secondItem="TI5-yZ-uEY" secondAttribute="centerX" id="rvn-2l-JFO"/>
@@ -500,6 +500,10 @@
                         </userDefinedRuntimeAttribute>
                     </userDefinedRuntimeAttributes>
                 </view>
+                <view hidden="YES" contentMode="scaleToFill" translatesAutoresizingMaskIntoConstraints="NO" id="d20-uq-IDt" userLabel="BrashSizeView" customClass="BrashSizeView" customModule="Crafty_Craft_5" customModuleProvider="target">
+                    <rect key="frame" x="0.0" y="605.66666666666663" width="430" height="121.33333333333337"/>
+                    <color key="backgroundColor" white="0.0" alpha="0.0" colorSpace="custom" customColorSpace="genericGamma22GrayColorSpace"/>
+                </view>
                 <label opaque="NO" userInteractionEnabled="NO" contentMode="left" horizontalHuggingPriority="251" verticalHuggingPriority="251" text="MY NEW SKIN" textAlignment="center" lineBreakMode="tailTruncation" baselineAdjustment="alignBaselines" adjustsFontSizeToFit="NO" translatesAutoresizingMaskIntoConstraints="NO" id="oiI-Mh-Q6Y">
                     <rect key="frame" x="8" y="117" width="414" height="31"/>
                     <fontDescription key="fontDescription" name="Poppins-SemiBold" family="Poppins SemiBold" pointSize="22"/>
@@ -516,13 +520,15 @@
                 <constraint firstItem="fnl-2z-Ty3" firstAttribute="trailing" secondItem="glY-bF-pQp" secondAttribute="trailing" constant="16" id="29i-qc-CJy"/>
                 <constraint firstAttribute="bottom" secondItem="D10-R1-Ltm" secondAttribute="bottom" id="2Mh-1N-LWs"/>
                 <constraint firstItem="MfN-nT-Ult" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.125" id="3D0-QB-GYh"/>
+                <constraint firstItem="d20-uq-IDt" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="3kS-gJ-iOO"/>
                 <constraint firstItem="D10-R1-Ltm" firstAttribute="leading" secondItem="i5M-Pr-FkT" secondAttribute="leading" id="5Xt-VL-dh6"/>
+                <constraint firstItem="d20-uq-IDt" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.130186" id="E8O-RR-lgX"/>
                 <constraint firstItem="7ma-6A-IHA" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.13" id="FA3-AX-6Jv"/>
                 <constraint firstItem="fnl-2z-Ty3" firstAttribute="trailing" secondItem="EEn-mf-WOc" secondAttribute="trailing" id="IAY-2Y-FtN"/>
                 <constraint firstItem="MfN-nT-Ult" firstAttribute="bottom" secondItem="EEn-mf-WOc" secondAttribute="bottom" constant="-20" id="J2h-7a-IYv"/>
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="top" secondItem="fnl-2z-Ty3" secondAttribute="top" id="Kz5-jb-ofs"/>
                 <constraint firstItem="UER-0E-SS7" firstAttribute="top" secondItem="i5M-Pr-FkT" secondAttribute="top" id="PL4-Hq-pDB"/>
-                <constraint firstItem="d20-uq-IDt" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.13" id="Q7h-e9-Xhh"/>
+                <constraint firstItem="d20-uq-IDt" firstAttribute="trailing" secondItem="fnl-2z-Ty3" secondAttribute="trailing" id="RPw-fX-6IB"/>
                 <constraint firstAttribute="trailing" secondItem="D10-R1-Ltm" secondAttribute="trailing" id="StB-V0-IBi"/>
                 <constraint firstAttribute="trailing" secondItem="UER-0E-SS7" secondAttribute="trailing" id="Xho-bU-OMJ"/>
                 <constraint firstAttribute="bottom" secondItem="UER-0E-SS7" secondAttribute="bottom" id="bid-Ez-9HO"/>
@@ -536,6 +542,7 @@
                 <constraint firstItem="EEn-mf-WOc" firstAttribute="top" secondItem="oiI-Mh-Q6Y" secondAttribute="bottom" id="jus-x0-FCS"/>
                 <constraint firstItem="oiI-Mh-Q6Y" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" constant="8" id="k3C-Ba-Nze"/>
                 <constraint firstItem="516-2I-QlD" firstAttribute="height" secondItem="i5M-Pr-FkT" secondAttribute="height" multiplier="0.09" id="pvk-iL-f0u"/>
+                <constraint firstItem="D10-R1-Ltm" firstAttribute="top" secondItem="d20-uq-IDt" secondAttribute="bottom" id="uqx-nt-pnD"/>
                 <constraint firstItem="D10-R1-Ltm" firstAttribute="top" secondItem="EEn-mf-WOc" secondAttribute="bottom" id="wBV-Sc-Os4"/>
                 <constraint firstItem="lhO-Vb-FiW" firstAttribute="leading" secondItem="fnl-2z-Ty3" secondAttribute="leading" id="wtk-QP-brM"/>
             </constraints>
-- 
2.37.0

